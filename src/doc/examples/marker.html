<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>DG.marker Demo</title>
    <script src="http://maps.api.2gis.ru/2.0/loader.js?pkg=full" data-id="dgLoader"></script>
</head>
<body>
    <div id="map" style="width: 100%; height: 600px; border: 1px solid #ccc;"></div>
    <script type="text/javascript">
        var map,
        balloonHTML;

    DG.then(function () {
        map = new DG.Map('map', {
            center: new DG.LatLng(54.98, 82.89),
            zoom: 15,
            dgGeoclicker: true
        });

        //Маркер с балуном
        DG.marker([54.98, 82.89], {
            title: 'На меня можно жать',
        }).addTo(map).bindPopup('Я открылся!');

        //Драгабельный маркер
        DG.marker([54.98, 82.892], {
            draggable: true,
            title: 'Меня можно переносить',
        }).addTo(map);

        //Кастомный маркер
        var myIcon = DG.icon({
            iconUrl: 'http://maps.api.2gis.ru/2.0/example_logo.png',
            iconSize: [48, 48]
        });
        DG.marker([54.979, 82.892], {
            icon: myIcon
        }).addTo(map).bindPopup('Я кастомный маркер!');

        //Программное открытие маркера
        var marker = DG.marker([54.98, 82.894], {
            draggable: true,
            title: 'Жми на кнопку!',
        }).addTo(map).bindPopup('Я открылся!');
    
        document.getElementById('open-popup').onclick = clickButton;

        function clickButton() {
            marker.openPopup();
        }
    });

    </script>
<div id='map'></div>
<button id='open-popup'>open popup</button>
</body>
</html>
