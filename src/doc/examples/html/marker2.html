<!DOCTYPE html>
<html>
	<head>
	    <meta charset='utf-8' />
	    <title>Маркер с пользовательской иконкой</title>
	    <script src="http://maps.api.2gis.ru/2.0/loader.js?pkg=full"
	    data-id="dgLoader"></script>
	</head>
    <body>
        <input id="hide" type="button" value="hide markers" />
        <input id="show" type="button" value="show markers" />
        <div id="map7" style="width: 100%; height: 400px; border: 1px solid #ccc;"></div>
        <script>
            var map;
            DG.then(function() {
                map = DG.map('map7', {
                    center: [54.98, 82.89],
                    zoom: 13
                });

                var markers = DG.featureGroup(),
                coordinates = [];
                for (i = 0; i  < 100; i++){
                    coordinates[0] = 54.98 + Math.random();
                    coordinates[1] = 82.89 + Math.random();
                    DG.marker(coordinates).addTo(markers);
                }

                document.getElementById("hide").onclick = hideMarkers;
                document.getElementById("show").onclick = showMarkers;

                function showMarkers(){
                    markers.addTo(map);
                    map.fitBounds(markers.getBounds());
                };

                function hideMarkers(){
                    markers.eachLayer(function (layer){ map.removeLayer(layer) } );
                    console.log(markers);
                };
            });
        </script>
    </body>
</html>