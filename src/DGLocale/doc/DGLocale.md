Плагин локализации карты 2GIS
====================================

В картографическом API 2GIS имеется возможность отображения элементов пользовательских интерфейсов на нескольких языках. Перевод самих тайлов при этом не предусмотрен, так как подписи на тайлах всегда соответствуют языку отображаемой страны.

Данный плагин является утилитарным и предоставляет функционал для осуществления перевода других плагинов.

После подключения данного плагина у объекта L.Map появляется 2 новых метода: setLang и getLang. Также появляется объект L.DG.Locale, который можно примешать (to mixin) в какой-либо сторонний плагин, после чего в нем появится метод t, с помощью которого можно осуществить перевод. Объекты плагинов, к которым примешивается объект L.DG.Locale должны содержать внутри себя свойство _map, а также статическое свойство Dictionary.

#API

## Объект L.DG.Locale
### Методы
<table>
    <tr>
        <th>Метод</th>
        <th>Параметры</th>
        <th>Возвращаемый тип</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>t</td>
        <td>
            <table>
                <tr>
                    <th>Тип</th>
                    <th>Описание</th>
                </tr>
                <tr>
                    <td>String</td>
                    <td>Строка, требующая перевода.</td>
                </tr>
                <tr>
                    <td>Number</td>
                    <td>Число, после которого необходимо осуществить склонение.</td>
                </tr>
            </table>
        </td>
        <td>String</td>
        <td>Осуществляет перевод строки.</td>
    </tr>
</table>

## Класс L.Map
### Методы
<table>
    <tr>
        <th>Метод</th>
        <th>Параметры</th>
        <th>Возвращаемый тип</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>setLang</td>
        <td>
            <table>
                <tr>
                    <th>Тип</th>
                    <th>Описание</th>
                </tr>
                <tr>
                    <td>String</td>
                    <td>Код языка, например: it, ru.</td>
                </tr>
            </table>
        </td>
        <td>Нет</td>
        <td>Устанавливает текущий язык карты.</td>
    </tr>
    <tr>
        <td>getLang</td>
        <td>Нет</td>
        <td>String</td>
        <td>Возвращает текущий язык карты.</td>
    </tr>
</table>


## События
<table>
    <tr>
        <th>Событие</th>
        <th>Объект события</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>langchange</td>
        <td>LangEvent</td>
        <td>Возникает при изменении текущего языка карты.</td>
    </tr>
</table>

## Объекты событий
### LangEvent
#### Свойства
<table>
    <tr>
        <th>Свойство</th>
        <th>Тип</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>lang</td>
        <td>String</td>
        <td>Текущий язык карты.</td>
    </tr>
</table>

# Примеры
Подмешивание (mixin) функционала локализции в пользовательский плагин:

    L.DG.LocaleExample = L.Control.extend({
        includes: L.DG.Locale,
        ...
    }

Подписка на событие langchange:

    map.on('langchange', this._updateText, this);

Перевод строки на текущий язык карты:

    container.innerHTML = this.t("{n} people", 16700000) + ' ' + this.t("regularly use 2GIS");

Получение текущего языка карты:

    map.getLang();

Установка текущего языка карты:

    map.setLang('ru');