!function(){"use strict";function e(){d=!0;var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",l+"js/"+p),e.onerror=function(e){a(e)},document.getElementsByTagName("head")[0].appendChild(e)}function t(){return new Promise(function(e,t){function n(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n)),i||(i=!0,e())}function o(){if(!i){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(o,50)}n()}}var i=!1;if("loading"!==document.readyState)return n();if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n);var r=!1;try{r=null==window.frameElement}catch(a){}document.documentElement.doScroll&&r&&o()}})}function n(){var e=l+"css/"+p,t=document.createElement("style");return t.type="text/css",new Promise(function(n,o){DG.ajax(e,{type:"get",dataType:"html",success:function(e){var o=document.getElementsByTagName("head")[0];t.styleSheet?(o.appendChild(t),t.styleSheet.cssText=e):(t.appendChild(document.createTextNode(e)),o.appendChild(t)),n()},error:function(){o()}})})}function o(){var e="http://catalog.api.2gis.ru/2.0/region/list",t="http:"==window.location.protocol?"http:":"https:";return e=e.replace(/^https?\:/,t),new Promise(function(t){DG.ajax(e,{type:DG.ajax.corsSupport?"get":"jsonp",data:{format:DG.ajax.corsSupport?"json":"jsonp",key:"rujrdp3400",fields:"items.bounds,items.zoom_level,items.time_zone,items.code,items.flags,items.country_code,items.domain"},success:function(e){var n=e.result;n&&n.items&&n.items.length&&(DG.projectsList=n.items),t()},error:function(){t()}})})}function i(){return Promise.all([n(),o(),t()])}function r(){DG.ready=!0}function a(){for(var e=0,t=c.length;t>e;e++)"function"==typeof c[e]&&c[e]()}var d=!1,c=[],s="v2.0.36",u=function(){for(var e=document.getElementsByTagName("script"),t=e.length;t;)if("dgLoader"==e[--t].getAttribute("data-id"))return e[t].src.split("?")}(),l=u[0].replace(/loader\.js$/,""),m=u[1]?"&"+u[1]+"&":"&";-1==m.indexOf("&retina=")&&window.devicePixelRatio&&window.devicePixelRatio>=1.5&&(m+="retina=true&"),-1==m.indexOf("&ie8=")&&/MSIE\x20(\d+\.\d+);/.test(navigator.userAgent)&&parseInt(RegExp.$1,10)<9&&(m+="ie8=true&"),-1==m.indexOf("&sprite=")&&(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||(m+="sprite=true&"));var p="?"+m.slice(1)+"version="+s,f=-1!=m.indexOf("&lazy=true&");window.DG=window.DG||{},window.DG.ready=!1,window.__dgApi__={callbacks:[[i,void 0],[r,void 0]],debug:-1!=m.indexOf("&mode=debug&"),version:s},f||e(),window.DG.then=function(t,n){return window.__dgApi__.callbacks.push([t,n]),f&&!d&&e(),n&&c.push(n),this}}();