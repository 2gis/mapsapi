<h2 id="класс-dgpopup">Класс DG.Popup</h2><p><dl class="api-incut"><ul class="page-contents"><li><a href="#описание">Описание</a></li><li><a href="#пример-использования">Пример использования</a></li><li><a href="#конструктор">Конструктор</a></li><li><a href="#опции">Опции</a></li><li><a href="#методы">Методы</a></li><li><a href="#события">События</a></li></ul></dl></p>
<h3 id="описание">Описание</h3><p>Балун — это всплывающее окно, в котором можно отобразить произвольный HTML-код. Балун связан с определенным местом на карте.</p>
<p>Для открытия балуна можно использовать метод карты <a href="/doc/maps/manual/map#map-openpopup">openPopup</a>, в таком случае одновременно может быть открыт лишь один балун, либо метод <a href="/doc/maps/manual/map#map-addlayer">addLayer</a> для отображения любого количества балунов.</p>
<h3 id="пример-использования">Пример использования</h3><p>Включить отображения балуна по клику на маркер довольно просто:</p>
<pre><code>marker.bindPopup(popupContent).openPopup();
</code></pre><p>У дополнительных слоев, таких как ломаные, также есть метод <code>bindPopup</code>. Вот более сложный пример отображения балуна:</p>
<pre><code>var popup = DG.popup()
    .setLatLng(latlng)
    .setContent(&#39;&lt;p&gt;Привет!&lt;br /&gt;Я балун.&lt;/p&gt;&#39;)
    .openOn(map);
</code></pre><h3 id="конструктор">Конструктор</h3><table>
    <thead>
        <tr>
            <th>Конструктор</th>
            <th>Использование</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>DG.Popup</b>(
                <nobr>&lt;<a href="#опции">Popup options</a>&gt; <i>options?</i>,</nobr>
                <nobr>&lt;<a href="/doc/maps/manual/interfaces#ilayer">ILayer</a>&gt; <i>source?</i> )</nobr>
            </code></td>

            <td>
                <code>DG.popup(&hellip;)</code>
            </td>

            <td>Создает объект <code>Popup</code> с переданными опциями, описывающими внешний вид и расположение балуна, и объектом, указывающим привязку балуна к определенному объекту типа ILayer.</td>
        </tr>
    </tbody>
</table>

<h3 id="опции">Опции</h3><table>
    <thead>
        <tr>
            <th>Опция</th>
            <th>Тип</th>
            <th>По умолчанию</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>maxWidth</b></code></td>
            <td><code>Number</code></td>
            <td><code>300</code></td>
            <td>Максимальная ширина балуна.</td>
        </tr>
        <tr>
            <td><code><b>minWidth</b></code></td>
            <td><code>Number</code></td>
            <td><code>50</code></td>
            <td>Минимальная ширина балуна.</td>
        </tr>
        <tr>
            <td><code><b>maxHeight</b></code></td>
            <td><code>Number</code></td>
            <td><code>null</code></td>
            <td>Если значение установлено и содержимое балуна превышает заданную высоту, создается контейнер указанной высоты со скроллом.</td>
        </tr>
        <tr>
            <td><code><b>autoPan</b></code></td>
            <td><code>Boolean</code></td>
            <td><code>true</code></td>
            <td>Установите значение в <code>false</code>, если не хотите чтобы карта автоматически сдвигалась для полного отображения балуна.</td>
        </tr>
        <tr>
            <td><code><b>keepInView</b></code></td>
            <td><code>Boolean</code></td>
            <td><code><span class="literal">false</span></code></td>
            <td>Установите в <code>true</code>, если необходимо предотвратить вероятность перемещения балуна за пределы видимой области карты пока он открыт.</td>
        </tr>
        <tr>
            <td><code><b>closeButton</b></code></td>
            <td><code>Boolean</code></td>
            <td><code>true</code></td>
            <td>Отвечает за отображение кнопки закрытия балуна.</td>
        </tr>
        <tr>
            <td><code><b>offset</b></code></td>
            <td><code><a href="/doc/maps/manual/base-classes#класс-dgpoint">Point</a></code></td>
            <td><code><nobr>Point(0, 6)</nobr>
            </code></td>
            <td>Устанавливает отступ позиции балуна. Удобно для управления ножкой балуна.</td>
        </tr>
        <tr>
            <td><code><b>autoPanPaddingTopLeft</b></code></td>
            <td><code><a href="/doc/maps/manual/base-classes#класс-dgpoint">Point</a></code></td>
            <td><code><nobr>null</nobr>
            </code></td>
            <td>Задает расстояние от края балуна до левого верхнего угла карты при автоматическом сдвиге.</td>
        </tr>
        <tr>
            <td><code><b>autoPanPaddingBottomRight</b></code></td>
            <td><code><a href="/doc/maps/manual/base-classes#класс-dgpoint">Point</a></code></td>
            <td><code><nobr>null</nobr>
            </code></td>
            <td>Задает расстояние от края балуна до правого нижнего угла карты при автоматическом сдвиге.</td>
        </tr>
        <tr>
            <td><code><b>autoPanPadding</b></code></td>
            <td><code><a href="/doc/maps/manual/base-classes#класс-dgpoint">Point</a></code></td>
            <td><code><nobr>Point(5, 5)</nobr>
            </code></td>
            <td>Задает расстояние от края балуна до границы карты при автоматическом сдвиге, устанавливает одинаковые значения для autoPanPaddingBottomRight и autoPanPaddingTopLeft.</td>
        </tr>
        <tr>
            <td><code><b>zoomAnimation</b></code></td>
            <td><code>Boolean</code></td>
            <td><code>true</code></td>
            <td>Анимировать ли балун при масштабировании. Отключите, если есть проблемы с отображением Flash содержимого внутри балуна.</td>
        </tr>
        <tr>
            <td><code><b>closeOnClick</b></code></td>
            <td><code>Boolean</code></td>
            <td><code>false</code></td>
            <td>Установите в <code>false</code>, если необходимо переопределить поведение закрытия балуна при клике по карте (глобальное поведение для всех балунов задается опцией карты <code>closePopupOnClick</code>).</td>
        </tr>
        <tr>
            <td><code><b>sprawling</b></code></td>
            <td><code>Boolean</code></td>
            <td><code>false</code></td>
            <td>По умолчанию, ширина балуна подстраивается под ширину его контента и под ширину карты. Выставьте значение <code>true</code>, если хотите, чтобы выбиралась максимальная ширина, ограниченная только шириной карты.</td>
        </tr>
    </tbody>
</table>

<h3 id="методы">Методы</h3><table>
    <thead>
        <tr>
            <th>Метод</th>
            <th>Возвращает</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>addTo</b>(
                <nobr>&lt;<a href="/doc/maps/manual/map#описание">Map</a>&gt; <i>map</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Добавляет балун на карту.</td>
        </tr>
        <tr>
            <td><code><b>openOn</b>(
                <nobr>&lt;<a href="/doc/maps/manual/map#описание">Map</a>&gt; <i>map</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Добавляет балун на карту, предварительно закрыв другие балуны. Аналогично <code>map.openPopup(popup)</code>.</td>
        </tr>
        <tr>
            <td><code><b>setLatLng</b>(
                <nobr>&lt;<a href="/doc/maps/manual/base-classes#класс-dglatlng">LatLng</a>&gt; <i>latlng</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Устанавливает географические координаты точки открытия балуна.</td>
        </tr>
        <tr>
            <td><code><b>getLatLng</b>(
                <nobr>&lt;<a href="/doc/maps/manual/base-classes#класс-dglatlng">LatLng</a>&gt; <i>latlng</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Возвращает географические координаты точки открытия балуна.</td>
        </tr>
        <tr>
            <td><code><b>setHeaderContent</b>(
                <nobr>&lt;String&gt;&nbsp;|&nbsp;&lt;HTMLElement&gt; <i>content</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Задает содержимое секции header балуна. Может принимать HTML строку или DOM-элемент.</td>
        </tr>
        <tr>
            <td><code><b>setContent</b>(
                <nobr>&lt;String&gt;&nbsp;|&nbsp;&lt;HTMLElement&gt; <i>content</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Задает содержимое секции body балуна. Может принимать HTML строку или DOM-элемент.</td>
        </tr>
        <tr>
            <td><code><b>setFooterContent</b>(
                <nobr>&lt;String&gt;&nbsp;|&nbsp;&lt;HTMLElement&gt; <i>content</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Задает содержимое секции footer балуна. Может принимать HTML строку или DOM-элемент.</td>
        </tr>
        <tr>
            <td><code><b>getHeaderContent</b>()</code></td>
            <td><code>&lt;String&nbsp;|&nbsp;HTMLElement&gt;</code></td>
            <td>Возвращает содержимое секции header балуна.</td>
        </tr>
        <tr>
            <td><code><b>getContent</b>()</code></td>
            <td><code>&lt;String&nbsp;|&nbsp;HTMLElement&gt;</code></td>
            <td>Возвращает содержимое секции body балуна.</td>
        </tr>
        <tr>
            <td><code><b>getFooterContent</b>()</code></td>
            <td><code>&lt;String&nbsp;|&nbsp;HTMLElement&gt;</code></td>
            <td>Возвращает содержимое секции footer балуна.</td>
        </tr>
        <tr>
            <td><code><b>on</b>(
                <nobr>&lt;String&gt; <i>type</i></nobr>,
                <nobr>&lt;Function&gt; <i>fn</i></nobr>,
                <nobr>&lt;Object&gt; <i>context?</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Подписывает обработчик (<code>fn</code>) на определенный тип события. Опционально вы можете указать контекст обработчика (объект, на который будет указывать <code>this</code>)</td>
        </tr>
        <tr>
            <td><code><b>off</b>(
                <nobr>&lt;String&gt; <i>type</i></nobr>,
                <nobr>&lt;Function&gt; <i>fn?</i></nobr>,
                <nobr>&lt;Object&gt; <i>context?</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Отписывает ранее подписанный обработчик. Если обработчик не указан, тогда от определенного типа событий будут отписаны все обработчики.</td>
        </tr>
    </tbody>
</table>

<h3 id="события">События</h3><p>DGPopup генерирует события scroll и click, на которые можно подписаться передав ссылку на обработчик, например:</p>
<p><code>popup.on(&#39;click&#39; , this.onClick, context)</code></p>
<table>
    <thead>
        <tr>
            <th>События</th>
            <th>Данные</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>click</b></code></td>
            <td><code><a href="/doc/maps/2.0/manual/events#mouseevent">MouseEvent</a></code></td>
            <td>Вызывается при клике на балуне.</td>
        </tr>
        <tr>
            <td><code><b>scroll</b></code></td>
            <td><code> </code></td>
            <td>Вызывается при скролле на балуне.</td>
        </tr>
    </tbody>
</table>
