<h2 id="события">События</h2><p><dl class="api-incut"><ul class="page-contents"><li><a href="#описание">Описание</a></li><li><a href="#методы-управления-событиями">Методы управления событиями</a></li><li><a href="#объекты-событий">Объекты событий</a><ul><li><a href="#event">Event</a></li><li><a href="#mouseevent">MouseEvent</a></li><li><a href="#locationevent">LocationEvent</a></li><li><a href="#errorevent">ErrorEvent</a></li><li><a href="#layerevent">LayerEvent</a></li><li><a href="#tileevent">TileEvent</a></li><li><a href="#resizeevent">ResizeEvent</a></li><li><a href="#geojson-event">GeoJSON event</a></li><li><a href="#popupevent">PopupEvent</a></li><li><a href="#dragendevent">DragEndEvent</a></li><li><a href="#poievent">PoiEvent</a></li><li><a href="#projectevent">ProjectEvent</a></li><li><a href="#langevent">LangEvent</a></li></ul></dl></p>
<h3 id="описание">Описание</h3><p>События позволяют выполнить какое-либо действие в тот момент, когда что-то происходит с объектом (например, когда пользователь кликает по карте):</p>
<pre><code>map.on(&#39;click&#39;, function(e) {
    console.log(e.latlng);
});
</code></pre><p>Управлять событиями можно с помощью ссылок на обработчики, например, если необходимо добавить и затем удалить обработчик, определите его как функцию:</p>
<pre><code>function onClick(e) { ... }

map.on(&#39;click&#39;, onClick);
map.off(&#39;click&#39;, onClick);
</code></pre><h3 id="методы-управления-событиями">Методы управления событиями</h3><table>
    <thead>
        <tr>
            <th>Метод</th>
            <th>Возвращает</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>addEventListener</b>(
                <nobr>&lt;String&gt; <i>type</i></nobr>,
                <nobr>&lt;Function&gt; <i>fn</i></nobr>,
                <nobr>&lt;Object&gt; <i>context?</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Подписывает обработчик (<code>fn</code>) на определенный тип события. Опционально вы можете указать контекст обработчика (объект, на который будет указывать <code>this</code>). Также вы можете подписаться на несколько типов событий, указав их через пробел (например, <code>&#39;click dblclick&#39;</code>).</td>
        </tr>
        <tr>
            <td><code><b>addOneTimeEventListener</b>(
                <nobr>&lt;String&gt; <i>type</i></nobr>,
                <nobr>&lt;Function&gt; <i>fn</i></nobr>,
                <nobr>&lt;Object&gt; <i>context?</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Аналогичен методу <code>addEventListener</code>, лишь с тем отличием, что после первого вызова обработчика он будет удален.</td>
        </tr>
        <tr>
            <td><code><b>addEventListener</b>(
                <nobr>&lt;Object&gt; <i>eventMap</i></nobr>,
                <nobr>&lt;Object&gt; <i>context?</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Подписывает несколько обработчиков на определенные типы событий, например <code>{click: onClick, mousemove: onMouseMove}</code></td>
        </tr>
        <tr>
            <td><code><b>removeEventListener</b>(
                <nobr>&lt;String&gt; <i>type</i></nobr>,
                <nobr>&lt;Function&gt; <i>fn?</i></nobr>,
                <nobr>&lt;Object&gt; <i>context?</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Отписывает ранее подписанный обработчик. Если обработчик не указан, тогда от определенного типа событий будут отписаны все обработчики.</td>
        </tr>
        <tr>
            <td><code><b>removeEventListener</b>(
                <nobr>&lt;Object&gt; <i>eventMap</i></nobr>,
                <nobr>&lt;Object&gt; <i>context?</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Отписывает несколько обработчиков от определенных событий.</code></td>
        </tr>
        <tr>
            <td><code><b>hasEventListeners</b>(
                <nobr>&lt;String&gt; <i>type</i> )</nobr>
            </code></td>

            <td><code>Boolean</code></td>
            <td>Возвращает <code>true</code>, если у переданного типа события есть подписчики.</td>
        </tr>
        <tr>
            <td><code><b>fireEvent</b>(
                <nobr>&lt;String&gt; <i>type</i></nobr>,
                <nobr>&lt;Object&gt; <i>data?</i> )</nobr>
            </code></td>

            <td><code>this</code></td>
            <td>Инициирует событие определенного типа. Опционально можно передать объект с данными события, тогда этот объект будет передан первым параметром в функцию-обработчик.</td>
        </tr>
        <tr>
            <td><code><b>clearAllEventListeners</b>()</code></td>
            <td><code>this</code></td>
            <td>Удаляет все обработчики всех событий объекта.</code></td>
        </tr>
        <tr>
            <td><code><b>on</b>( &hellip; )</code></td>
            <td><code>this</code></td>
            <td>Псевдоним <code>addEventListener</code>.</td>
        </tr>
        <tr>
            <td><code><b>once</b>( &hellip; )</code></td>
            <td><code>this</code></td>
            <td>Псевдоним <code>addOneTimeEventListener</code>.</td>
        </tr>
        <tr>
            <td><code><b>off</b>( &hellip; )</code></td>
            <td><code>this</code></td>
            <td>Псевдоним <code>removeEventListener</code>.</td>
        </tr>
        <tr>
            <td><code><b>fire</b>( &hellip; )</code></td>
            <td><code>this</code></td>
            <td>Псевдоним <code>fireEvent</code>.</td>
        </tr>
    </tbody>
</table>

<h3 id="объекты-событий">Объекты событий</h3><p>Каждый объект события &mdash; это объект с данными о событии, передаваемый параметром в функцию-обработчик, подписанную на это событие при возникновении последнего. Например:</p>
<pre><code>map.on(&#39;click&#39;, function(e) {
    console.log(e.latlng); // e является объектом события (в данном случае MouseEvent)
});
</code></pre><h4 id="event">Event</h4><p>Базовый объект события. Все объекты событий содержат такие же свойства, как и этот объект.</p>
<table>
    <thead>
        <tr>
            <th>Свойство</th>
            <th>Тип</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>type</b></code></td>
            <td><code>String</code></td>
            <td>Тип события (например, <code>&#39;click&#39;</code>).</td>
        </tr>
        <tr>
            <td><code><b>target</b></code></td>
            <td><code>Object</code></td>
            <td>Объект, который инициировал событие.</td>
        </tr>
    </tbody>
</table>

<h4 id="mouseevent">MouseEvent</h4><table>
    <thead>
        <tr>
            <th>Свойство</th>
            <th>Тип</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>latlng</b></code></td>
            <td><code><a href="/doc/2.0/maps/manual/base-classes#класс-dglatlng">LatLng</a></code></td>
            <td>Географическая точка, в которой было инициировано событие мышки.</td>
        </tr>
        <tr>
            <td><code><b>layerPoint</b></code></td>
            <td><code><a href="/doc/2.0/maps/manual/base-classes#класс-dgpoint">Point</a></code></td>
            <td>Пиксельные координаты, в которых было инициировано событие мышки, относительно слоя карты.</td>
        </tr>
        <tr>
            <td><code><b>containerPoint</b></code></td>
            <td><code><a href="/doc/2.0/maps/manual/base-classes#класс-dgpoint">Point</a></code></td>
            <td>Пиксельные координаты, в которых было инициировано событие мышки, относительно контейнера карты.</td>
        </tr>
        <tr>
            <td><code><b>originalEvent</b></code></td>
            <td><code>DOMMouseEvent</code></td>
            <td>Оригинальное браузерное событие мышки.</td>
        </tr>
    </tbody>
</table>

<h4 id="locationevent">LocationEvent</h4><table>
    <thead>
        <tr>
            <th>Свойство</th>
            <th>Тип</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>latlng</b></code></td>
            <td><code><a href="/doc/2.0/maps/manual/base-classes#класс-dglatlng">LatLng</a></code></td>
            <td>Географическое положение пользователя.</td>
        </tr>
        <tr>
            <td><code><b>bounds</b></code></td>
            <td><code><a href="/doc/2.0/maps/manual/base-classes#класс-dglatlngbounds">LatLngBounds</a></code></td>
            <td>Географические границы, в которых находится пользователь (в соответствии с точностью местоположения).</td>
        </tr>
        <tr>
            <td><code><b>accuracy</b></code></td>
            <td><code>Number</code></td>
            <td>Точность местоположения в метрах.</td>
        </tr>
        <tr>
            <td><code><b>altitude</b></code></td>
            <td><code>Number</code></td>
            <td>Высота над поверхностью земли в метрах, согласно координатной системе <a href="http://ru.wikipedia.org/wiki/WGS_84" target="_blank">WGS84</a>.</td>
        </tr>
        <tr>
            <td><code><b>altitudeAccuracy</b></code></td>
            <td><code>Number</code></td>
            <td>Точность высоты в метрах.</td>
        </tr>
        <tr>
            <td><code><b>heading</b></code></td>
            <td><code>Number</code></td>
            <td>Направление движения в градусах, считается с севера по часовой стрелке.</td>
        </tr>
        <tr>
            <td><code><b>speed</b></code></td>
            <td><code>Number</code></td>
            <td>Скорость в метрах в секунду.</td>
        </tr>
        <tr>
            <td><code><b>timestamp</b></code></td>
            <td><code>Number</code></td>
            <td>Время изменения местоположения.</td>
        </tr>
    </tbody>
</table>

<h4 id="errorevent">ErrorEvent</h4><table>
    <thead>
        <tr>
            <th>Свойство</th>
            <th>Тип</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>message</b></code></td>
            <td><code>String</code></td>
            <td>Сообщение об ошибке.</td>
        </tr>
        <tr>
            <td><code><b>code</b></code></td>
            <td><code>Number</code></td>
            <td>Код ошибки (если имеется).</td>
        </tr>
    </tbody>
</table>

<h4 id="layerevent">LayerEvent</h4><table>
    <thead>
        <tr>
            <th>Свойство</th>
            <th>Тип</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>layer</b></code></td>
            <td><code><a href="/doc/2.0/maps/manual/interfaces#ilayer">ILayer</a></code></td>
            <td>Слой, который был добавлен или удален.</td>
        </tr>
    </tbody>
</table>

<h4 id="tileevent">TileEvent</h4><table>
    <thead>
        <tr>
            <th>Свойство</th>
            <th>Тип</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>tile</b></code></td>
            <td><code>HTMLElement</code></td>
            <td>Элемент тайла (изображение).</td>
        </tr>
        <tr>
            <td><code><b>url</b></code></td>
            <td><code>String</code></td>
            <td>URL тайла.</td>
        </tr>
    </tbody>
</table>

<h4 id="resizeevent">ResizeEvent</h4><table>
    <thead>
        <tr>
            <th>Свойство</th>
            <th>Тип</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>oldSize</b></code></td>
            <td><code><a href="/doc/2.0/maps/manual/base-classes#класс-dgpoint">Point</a></code></td>
            <td>Старый размер, до изменения.</td>
        </tr>
        <tr>
            <td><code><b>newSize</b></code></td>
            <td><code><a href="/doc/2.0/maps/manual/base-classes#класс-dgpoint">Point</a></code></td>
            <td>Новый размер, после изменения.</td>
        </tr>
    </tbody>
</table>

<h4 id="geojson-event">GeoJSON event</h4><table>
    <thead>
        <tr>
            <th>Свойство</th>
            <th>Тип</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>layer</b></code></td>
            <td><code><a href="/doc/2.0/maps/manual/interfaces#ilayer">ILayer</a></code></td>
            <td>Слой GeoJSON объекта добавленного на карту.</td>
        </tr>
        <tr>
            <td><code><b>properties</b></code></td>
            <td><code>Object</code></td>
            <td>Свойства GeoJSON объекта.</td>
        </tr>
        <tr>
            <td><code><b>geometryType</b></code></td>
            <td><code>String</code></td>
            <td>Тип геометрии GeoJSON объекта.</td>
        </tr>
        <tr>
            <td><code><b>id</b></code></td>
            <td><code>String</code></td>
            <td>GeoJSON ID объекта (если задан).</td>
        </tr>
    </tbody>
</table>

<h4 id="popupevent">PopupEvent</h4><table>
    <thead>
        <tr>
            <th>Свойство</th>
            <th>Тип</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>popup</b></code></td>
            <td><code><a href="/doc/2.0/maps/manual/popup#описание">Popup</a></code></td>
            <td>Балун, который был открыт или закрыт.</td>
        </tr>
    </tbody>
</table>

<h4 id="dragendevent">DragEndEvent</h4><table>
    <thead>
        <tr>
            <th>Свойство</th>
            <th>Тип</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>distance</b></code></td>
            <td><code>Number</code></td>
            <td>Расстояние в пикселях на которое был сдвинут элемент.</td>
        </tr>
    </tbody>
</table>

<h4 id="poievent">PoiEvent</h4><table>
    <thead>
        <tr>
            <th>Свойство</th>
            <th>Тип</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>latlng</b></code></td>
            <td><code><a href="/doc/2.0/maps/manual/base-classes#класс-dglatlng">LatLng</a></code></td>
            <td>Географические координаты точки интереса.</td>
        </tr>
    </tbody>
</table>

<h4 id="projectevent">ProjectEvent</h4><table>
    <thead>
        <tr>
            <th>Метод</th>
            <th>Параметры</th>
            <th>Возвращает</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>getProjectList</td>
            <td>Нет</td>
            <td>Object</td>
            <td>Возвращает все доступные <a href="/doc/2.0/maps/manual/map#map-projectdetector">проекты 2ГИС</a>.</td>
        </tr>
        <tr>
            <td>getProject</td>
            <td>Нет</td>
            <td>Object</td>
            <td>Возвращает текущий <a href="/doc/2.0/maps/manual/map#map-projectdetector">проект 2ГИС</a>.</td>
        </tr>
    </tbody>
</table>

<h4 id="langevent">LangEvent</h4><table>
    <thead>
        <tr>
            <th>Свойство</th>
            <th>Тип</th>
            <th>Описание</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code><b>lang</b></code></td>
            <td><code>String</code></td>
            <td>Текущий язык карты.</td>
        </tr>
    </tbody>
</table>