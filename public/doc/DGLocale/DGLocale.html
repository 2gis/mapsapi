<h1>Плагин локализации карты 2GIS</h1>
<p>В картографическом API 2GIS имеется возможность отображения элементов пользовательских интерфейсов на нескольких языках. Перевод самих тайлов при этом не предусмотрен, так как подписи на тайлах всегда соответствуют языку отображаемой страны.</p>
<p>Данный плагин является утилитарным и предоставляет функционал для осуществления перевода других плагинов.</p>
<p>После подключения данного плагина у объекта L.Map появляется 2 новых метода: setLang и getLang. Также появляется объект L.DG.Locale, который можно примешать (to mixin) в какой-либо сторонний плагин, после чего в нем появится метод t, с помощью которого можно осуществить перевод. Объекты плагинов, к которым примешивается объект L.DG.Locale должны содержать внутри себя свойство _map, а также статическое свойство Dictionary.</p>
<h1>API</h1>
<h2>Объект L.DG.Locale</h2>
<h3>Методы</h3>
<table>
    <tr>
        <th>Метод</th>
        <th>Параметры</th>
        <th>Возвращаемый тип</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>t</td>
        <td>
            <table>
                <tr>
                    <th>Тип</th>
                    <th>Описание</th>
                </tr>
                <tr>
                    <td>String</td>
                    <td>Строка, требующая перевода.</td>
                </tr>
                <tr>
                    <td>Number</td>
                    <td>Число, после которого необходимо осуществить склонение.</td>
                </tr>
            </table>
        </td>
        <td>String</td>
        <td>Осуществляет перевод строки.</td>
    </tr>
</table>

<h2>Класс L.Map</h2>
<h3>Методы</h3>
<table>
    <tr>
        <th>Метод</th>
        <th>Параметры</th>
        <th>Возвращаемый тип</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>setLang</td>
        <td>
            <table>
                <tr>
                    <th>Тип</th>
                    <th>Описание</th>
                </tr>
                <tr>
                    <td>String</td>
                    <td>Код языка, например: it, ru.</td>
                </tr>
            </table>
        </td>
        <td>Нет</td>
        <td>Устанавливает текущий язык карты.</td>
    </tr>
    <tr>
        <td>getLang</td>
        <td>Нет</td>
        <td>String</td>
        <td>Возвращает текущий язык карты.</td>
    </tr>
</table>


<h2>События</h2>
<table>
    <tr>
        <th>Событие</th>
        <th>Объект события</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>dgLangChange</td>
        <td>LangEvent</td>
        <td>Возникает при изменении текущего языка карты.</td>
    </tr>
</table>

<h2>Объекты событий</h2>
<h3>LangEvent</h3>
<h4>Свойства</h4>
<table>
    <tr>
        <th>Свойство</th>
        <th>Тип</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>lang</td>
        <td>String</td>
        <td>Текущий язык карты.</td>
    </tr>
</table>

<h1>Примеры</h1>
<p>Подмешивание (mixin) функционала локализции в пользовательский плагин:</p>
<pre><code>L.DG.LocaleExample = L.Control.extend({
    includes: L.DG.Locale,
    ...
}</code></pre>
<p>Подписка на событие dgLangChange:</p>
<pre><code>map.on(&#39;dgLangChange&#39;, this._updateText, this);</code></pre>
<p>Перевод строки на текущий язык карты:</p>
<pre><code>container.innerHTML = this.t(&quot;{n} people&quot;, 16700000) + &#39; &#39; + this.t(&quot;regularly use 2GIS&quot;);</code></pre>
<p>Получение текущего языка карты:</p>
<pre><code>map.getLang();</code></pre>
<p>Установка текущего языка карты:</p>
<pre><code>map.setLang(&#39;ru&#39;);</code></pre>
