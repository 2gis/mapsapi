<h2 id="работа-с-балунами">Работа с балунами</h2><p><dl class="api-incut"><ul class="page-contents"><li><a href="#описание">Описание</a></li><li><a href="#открытие-балуна-при-клике-на-маркер">Открытие балуна при клике на маркер</a></li><li><a href="#открытие-балуна-по-умолчанию-и-по-требованию">Открытие балуна по умолчанию и по требованию</a></li><li><a href="#добавление-нескольких-балунов-на-карту">Добавление нескольких балунов на карту</a></li></ul></dl></p>
<h3 id="описание">Описание</h3><p>Ниже приведены примеры использования балунов. Для получения подробной информации перейдите в раздел документации <a href="/doc/maps/2.0/manual/popups">Балуны</a>.</p>
<h3 id="открытие-балуна-при-клике-на-маркер">Открытие балуна при клике на маркер</h3><script src="http://maps.api.2gis.ru/2.0/loader.js?pkg=full" data-id="dgLoader"></script>
<div id="map" style="width: 100%; height: 400px;"></div>
<script>
    DG.then(function () {
        var map;
        map = DG.map('map', {
            center: [54.98, 82.89],
            zoom: 15
        });
        DG.marker([54.98, 82.89]).addTo(map).bindPopup('Я балун!');
    });
</script>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&#39;utf-8&#39; /&gt;
        &lt;title&gt;Открытие балуна при клике на маркер&lt;/title&gt;
        &lt;script src=&quot;http://maps.api.2gis.ru/2.0/loader.js?pkg=full&quot;
        data-id=&quot;dgLoader&quot;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id=&quot;map&quot; style=&quot;width: 100%; height: 400px;&quot;&gt;&lt;/div&gt;
        &lt;script&gt;
            DG.then(function() {
                var map;
                map = DG.map(&#39;map&#39;, {
                    center: [54.98, 82.89],
                    zoom: 15
                });
                DG.marker([54.98, 82.89]).addTo(map).bindPopup(&#39;Я балун!&#39;);
            });
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id="открытие-балуна-по-умолчанию-и-по-требованию">Открытие балуна по умолчанию и по требованию</h3><p><input id="showPopup" type="button" value="Открыть балун" /></p>
<p><div id="map1" style="width: 100%; height: 400px;"></div></p>
<script>
    var showButton = document.getElementById('showPopup');
    DG.then(function() {
        var map;
         map = DG.map('map1', {
            center: [54.98, 82.89],
            zoom: 13
        });
        DG.popup([54.98, 82.89])
            .setLatLng([54.98, 82.89])
            .setContent('Я открыт по умолчанию')
            .openOn(map);
        var myPopUp = DG.popup()
            .setLatLng([54.98, 82.89])
            .setContent('Я открылся по требованию и закрыл прошлый балун!');
        showButton.onclick = function() {myPopUp.openOn(map)};
    });
</script>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&#39;utf-8&#39; /&gt;
        &lt;title&gt;Открытие балуна по умолчанию и по требованию&lt;/title&gt;
        &lt;script src=&quot;http://maps.api.2gis.ru/2.0/loader.js?pkg=full&quot;
        data-id=&quot;dgLoader&quot;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;input id=&quot;showPopup&quot; type=&quot;button&quot; value=&quot;Открыть балун&quot; /&gt;
        &lt;div id=&quot;map&quot; style=&quot;width: 100%; height: 400px;&quot;&gt;&lt;/div&gt;
        &lt;script&gt;
            var showButton = document.getElementById(&#39;showPopup&#39;);
            DG.then(function() {
                var map;
                 map = DG.map(&#39;map&#39;, {
                    center: [54.98, 82.89],
                    zoom: 13
                });
                DG.popup([54.98, 82.89])
                    .setLatLng([54.98, 82.89])
                    .setContent(&#39;Я открыт по умолчанию&#39;)
                    .openOn(map);
                var myPopUp = DG.popup()
                    .setLatLng([54.98, 82.89])
                    .setContent(&#39;Я открылся по требованию и закрыл прошлый балун!&#39;);
                showButton.onclick = function() {myPopUp.openOn(map)};
            });
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id="добавление-нескольких-балунов-на-карту">Добавление нескольких балунов на карту</h3><p><div id="map2" style="width: 100%; height: 400px;"></div></p>
<script>
    DG.then(function() {
        var map;
            popups = DG.featureGroup(),
            coordinates = [];

         map = DG.map('map2', {
            center: [54.98, 82.89],
            zoom: 13
        });

        for (i = 0; i < 10; i++) {
            coordinates[0] = 54.98 - Math.random();
            coordinates[1] = 82.89 + Math.random();
            DG.popup()
                .setLatLng(coordinates)
                .setContent('Я балун №' + i)
                .addTo(popups);
        }

        popups.addTo(map);
        map.fitBounds(popups.getBounds());
    });
</script>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&#39;utf-8&#39; /&gt;
        &lt;title&gt;Добавление нескольких балунов на карту&lt;/title&gt;
        &lt;script src=&quot;http://maps.api.2gis.ru/2.0/loader.js?pkg=full&quot;
        data-id=&quot;dgLoader&quot;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id=&quot;map&quot; style=&quot;width: 100%; height: 400px;&quot;&gt;&lt;/div&gt;
        &lt;script&gt;
            DG.then(function() {
                var map;
                    popups = DG.featureGroup(),
                    coordinates = [];

                 map = DG.map(&#39;map&#39;, {
                    center: [54.98, 82.89],
                    zoom: 13
                });

                 // создаем 10 баулнов в случайных местах и добавляем их в группу
                for (i = 0; i &lt; 10; i++) {
                    coordinates[0] = 54.98 - Math.random();
                    coordinates[1] = 82.89 + Math.random();
                    DG.popup()
                        .setLatLng(coordinates)
                        .setContent(&#39;Я балун №&#39; + i)
                        .addTo(popups);
                }

                popups.addTo(map);
                //фокусируем область видимости на балунах
                map.fitBounds(popups.getBounds());
            });
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>