<h2 id="работа-с-маркерами">Работа с маркерами</h2><p><dl class="api-incut"><ul class="page-contents"><li><a href="#описание">Описание</a></li><li><a href="#маркер-с-балуном">Маркер с балуном</a></li><li><a href="#перетаскиваемый-маркер">Перетаскиваемый маркер</a></li><li><a href="#маркер-с-пользовательской-иконкой">Маркер с пользовательской иконкой</a></li></ul></dl></p>
<h3 id="описание">Описание</h3><p>Ниже приведены примеры использования маркеров. Для получения подробной информации перейдите в раздел документации <a href="/doc/2.0/maps/manual/markers">Маркеры</a>.</p>
<h3 id="маркер-с-балуном">Маркер с балуном</h3><p>Маркер, при клике на который открывается балун с информацией:</p>
<script src="http://maps.api.2gis.ru/2.0/loader.js?pkg=full" data-id="dgLoader"></script>
<div id="map" style="width: 100%; height: 400px; border: 1px solid #ccc;"></div>
<script>
    var map;

    DG.then(function () {
        map = DG.map('map', {
            center: [54.98, 82.89],
            zoom: 15
        });

        DG.marker([54.98, 82.89]).addTo(map).bindPopup('Я балун!');
    });
</script>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&#39;utf-8&#39; /&gt;
        &lt;title&gt;Маркер с балуном&lt;/title&gt;
        &lt;script src=&quot;http://maps.api.2gis.ru/2.0/loader.js?pkg=full&quot;
        data-id=&quot;dgLoader&quot;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id=&quot;map&quot; style=&quot;width: 100%; height: 400px;&quot;&gt;&lt;/div&gt;
        &lt;script&gt;
            var map;
            DG.then(function () {
                map = DG.map(&#39;map&#39;, {
                    center: [54.98, 82.89],
                    zoom: 15
                });
                DG.marker([54.98, 82.89]).addTo(map).bindPopup(&#39;Я балун!&#39;);
            });
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id="перетаскиваемый-маркер">Перетаскиваемый маркер</h3><p>Маркер, который пользователи могут перетаскивать:</p>
<p><div id="map1" style="width: 100%; height: 400px; border: 1px solid #ccc;"></div></p>
<script type="text/javascript">
    var map;
    DG.then(function () {
        map = DG.map('map1', {
            center: [54.98, 82.89],
            zoom: 15
        });
        DG.marker([54.98, 82.89], {
            draggable: true
        }).addTo(map);
    });
</script>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&#39;utf-8&#39; /&gt;
        &lt;title&gt;Перетаскиваемый маркер&lt;/title&gt;
        &lt;script src=&quot;http://maps.api.2gis.ru/2.0/loader.js?pkg=full&quot;
        data-id=&quot;dgLoader&quot;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id=&quot;map&quot; style=&quot;width: 100%; height: 400px;&quot;&gt;&lt;/div&gt;
        &lt;script&gt;
            var map;
            DG.then(function () {
                map = DG.map(&#39;map&#39;, {
                    center: [54.98, 82.89],
                    zoom: 15
                });
                DG.marker([54.98, 82.89], {
                    draggable: true
                }).addTo(map);
            });
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id="маркер-с-пользовательской-иконкой">Маркер с пользовательской иконкой</h3><p>Вы можете задать маркеру собственную иконку:</p>
<p><div id="map2" style="width: 100%; height: 400px; border: 1px solid #ccc;"></div></p>
<script>
    var map;
    DG.then(function() {
        map = DG.map('map2', {
            center: [54.98, 82.89],
            zoom: 15
        });
        var myIcon = DG.icon({
            iconUrl: 'http://maps.api.2gis.ru/2.0/example_logo.png',
            iconSize: [48, 48]
        });
        DG.marker([54.98, 82.89], {
            icon: myIcon
        }).addTo(map);
    });
</script>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&#39;utf-8&#39; /&gt;
        &lt;title&gt;Маркер с пользовательской иконкой&lt;/title&gt;
        &lt;script src=&quot;http://maps.api.2gis.ru/2.0/loader.js?pkg=full&quot;
        data-id=&quot;dgLoader&quot;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id=&quot;map&quot; style=&quot;width: 100%; height: 400px;&quot;&gt;&lt;/div&gt;
        &lt;script type=&quot;text/javascript&quot;&gt;
            var map;
            DG.then(function() {
                map = DG.map(&#39;map&#39;, {
                    center: [54.98, 82.89],
                    zoom: 15
                });
                var myIcon = DG.icon({
                    iconUrl: &#39;http://maps.api.2gis.ru/2.0/example_logo.png&#39;,
                    iconSize: [48, 48]
                });
                DG.marker([54.98, 82.89], {
                    icon: myIcon
                }).addTo(map);
            });
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><!--
### Программное открытие маркера

Есть возможность открыть балун "по требованию". К примеру, по клику в ссылку, кнопку. Пример подобного случая представлен ниже.

<button id='open-popup'>open popup</button>

<div id="map3" style="width: 600px; height: 500px; border: 1px solid #ccc;"></div>
<script type="text/javascript">
    var map3;

     DG.then(function () {
        map3 = new DG.Map('map3', {
            center: new DG.LatLng(54.981, 82.891),
            zoom: 15,
            dgGeoclicker: true
        });

        var marker = DG.marker([54.981, 82.891]).addTo(map3).bindPopup('Я открылся!');

        document.getElementById('open-popup').onclick = clickButton;

        function clickButton() {
            marker.openPopup();
        }
    });
</script>

Вешаем событие на кнопку

    document.getElementById('open-popup').onclick = clickButton;

Пишем обработчик события

    function clickButton() {
        marker.openPopup();
    }

Теперь при клике в элемент с id = open-popup у нас будет открываться балун маркера. Полный код примера ниже.

     <!DOCTYPE html>
    <html>
        <head>
            <meta charset='utf-8'>
            <title>DG.marker Demo</title>
            <script src="http://maps.api.2gis.ru/2.0/loader.js?pkg=full" data-id="dgLoader"></script>
        </head>
        <body>
            <div id="map" style="width: 600px; height: 500px;"></div>
            <script type="text/javascript">
                var map;

                 DG.then(function () {
                    map3 = new DG.Map('map', {
                        center: new DG.LatLng(54.981, 82.891),
                        zoom: 15,
                        dgGeoclicker: true
                    });

                    var marker = DG.marker([54.981, 82.891]).addTo(map).bindPopup('Я открылся!');

                    document.getElementById('open-popup').onclick = clickButton;

                    function clickButton() {
                        marker.openPopup();
                    }
                });
            </script>
        </body>
    </html>
-->