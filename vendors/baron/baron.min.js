/*! baron 13-06-2013 */
(function(t,i){"use strict";function s(i,s,o){i._eventHandlers=i._eventHandlers||{onScroll:function(t){i.scroll(t)},onMouseDown:function(t){t.preventDefault(),i.selection(),i.drag.now=1},onMouseUp:function(){i.selection(1),i.drag.now=0},onCoordinateReset:function(t){2!=t.button&&i._pos0(t)},onMouseMove:function(t){i.drag.now&&i.drag(t)},onResize:function(){i.update()}},i.scroller&&s(i.scroller,"scroll",i._eventHandlers.onScroll,o),i.bar&&s(i.bar,"touchstart mousedown",i._eventHandlers.onMouseDown,o),s(document,"mouseup blur touchend",i._eventHandlers.onMouseUp,o),s(document,"touchstart mousedown",i._eventHandlers.onCoordinateReset,o),s(document,"mousemove touchmove",i._eventHandlers.onMouseMove,o),s(t,"resize",i._eventHandlers.onResize,o),i.root&&s(i.root,"sizeChange",i._eventHandlers.onResize,o)}function o(t){if(!t.root.getAttribute("data-baron-"+t.direction)){var i=new u.prototype.constructor(t);return s(i,t.event,"on"),i.root.setAttribute("data-baron-"+t.direction,"inited"),i.update(),i}}function r(t){var i={};t=t||{};for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);return i}function e(t){var i=r(t);i.direction=i.direction||"v";var s=t.event||function(t,s,o,r){i.$(t)[r||"on"](s,o)};return i.event=function(t,i,o,r){a(t,function(t){s(t,i,o,r)})},i}function n(t){if(this.events&&this.events[t])for(var i=0;this.events[t].length>i;i++)this.events[t][i].apply(this,Array.prototype.slice.call(arguments,1))}if(t){var l=t.baron,c=t.jQuery,h={v:{x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},h:{x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}},a=function(s,o){var r=0;for((s.length===i||s===t)&&(s=[s]);s[r];)o.call(this,s[r],r),r++},f=function(i){var s,o,r=this&&this[0]&&this[0].nodeType;return i=i||{},o=i.$||t.jQuery,r?i.root=s=this:s=o(i.root||i.scroller),new f.fn.constructor(s,i,o)};f.fn={constructor:function(t,i,s){var n=e(i);n.$=s,a.call(this,t,function(t,i){var s=r(n);n.root&&n.scroller?(s.scroller=n.$(n.scroller,t),s.scroller.length||(s.scroller=t)):s.scroller=t,s.root=t,this[i]=o(s),this.length=i+1}),this.params=n},dispose:function(){a(this,function(t){s(t,t.event,"off"),t=null}),this.params=null},update:function(){for(var t=0;this[t];)this[t++].update()},baron:function(t){return t.root=[],t.scroller=this.params.scroller,a.call(this,this,function(i){t.root.push(i.root)}),t.direction="v"==this.params.direction?"h":"v",t._chain=!0,f(t)}};var u={};u.prototype={constructor:function(t){function s(t,i){return f(t,i)[0]}function o(t){this.barMinSize||20,t>0&&this.barMinSize>t&&(t=this.barMinSize),this.bar&&f(this.bar).css(this.origin.size,parseInt(t)+"px")}function r(t){this.bar&&f(this.bar).css(this.origin.pos,+t+"px")}function e(){return v[this.origin.client]-this.barTopLimit-this.bar[this.origin.offset]}function l(t){return t*e.call(this)+this.barTopLimit}function c(t){return(t-this.barTopLimit)/e.call(this)}function a(){return!1}var f,u,p,v,g,d,m,b=(new Date).getTime(),w=b;return f=this.$=t.$,this.event=t.event,this.events={},this.root=t.root,this.scroller=s(t.scroller),this.bar=s(t.bar,this.root),v=this.track=s(t.track,this.root),!this.track&&this.bar&&(v=this.bar.parentNode),this.clipper=this.scroller.parentNode,this.direction=t.direction,this.origin=h[this.direction],this.barOnCls=t.barOnCls,this.barTopLimit=0,m=1e3*t.pause||0,this.cursor=function(t){return t["client"+this.origin.x]||(((t.originalEvent||t).touches||{})[0]||{})["page"+this.origin.x]},this.pos=function(t){var s="page"+this.origin.x+"Offset",o=this.scroller[s]?s:this.origin.scroll;return t!==i&&(this.scroller[o]=t),this.scroller[o]},this.rpos=function(t){var i,s=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client];return i=t?this.pos(t*s):this.pos(),i/(s||1)},this.barOn=function(){this.barOnCls&&(this.scroller[this.origin.client]<this.scroller[this.origin.scrollSize]?f(this.root).addClass(this.barOnCls):f(this.root).removeClass(this.barOnCls))},this._pos0=function(t){p=this.cursor(t)-u},this.drag=function(t){this.scroller[this.origin.scroll]=c.call(this,this.cursor(t)-p)*(this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client])},this.selection=function(t){this.event(document,"selectpos selectstart",a,t?"off":"on")},this.resize=function(){function i(){var i=s.scroller[s.origin.crossOffset]-s.scroller[s.origin.crossClient];t.freeze&&!s.clipper.style[s.origin.crossSize]&&f(s.clipper).css(s.origin.crossSize,s.clipper[s.origin.crossClient]-i+"px"),f(s.scroller).css(s.origin.crossSize,s.clipper[s.origin.crossClient]+i+"px"),Array.prototype.unshift.call(arguments,"resize"),n.apply(s,arguments),w=(new Date).getTime()}var s=this,o=0;m>(new Date).getTime()-w&&(clearTimeout(g),o=m),o?g=setTimeout(i,o):i()},this.scroll=function(){function t(){c.bar&&(s=(v[c.origin.client]-c.barTopLimit)*c.scroller[c.origin.client]/c.scroller[c.origin.scrollSize],i!=s&&(o.call(c,s),i=s),u=l.call(c,c.rpos()),r.call(c,u)),Array.prototype.unshift.call(arguments,"scroll"),n.apply(c,arguments),b=(new Date).getTime()}var i,s,e=0,c=this;m>(new Date).getTime()-b&&(clearTimeout(d),e=m),e?d=setTimeout(t,e):t()},this},update:function(){return this.resize(1),this.barOn(),this.scroll(),this},on:function(t,i,s){for(var o=t.split(" "),r=0;o.length>r;r++)"init"==o[r]?i.call(this,s):(this.events[o[r]]=this.events[o[r]]||[],this.events[o[r]].push(function(){i.call(this,s)}))}},f.fn.constructor.prototype=f.fn,u.prototype.constructor.prototype=u.prototype,f.noConflict=function(){return t.baron=l,f},f.version="0.6.3",c&&c.fn&&(c.fn.baron=f),t.baron=f,t.module&&module.exports&&(module.exports=f.noConflict())}})(window),function(t,s){var o=function(t){function o(t,i){(p||0)>u&&(i=s),i!==s?(i+="px",this.$(n[t]).css(this.origin.pos,i).addClass(l)):this.$(n[t]).css(this.origin.pos,"").removeClass(l)}function r(t){try{i=document.createEvent("WheelEvent"),i.initWebKitWheelEvent(t.originalEvent.wheelDeltaX,t.originalEvent.wheelDeltaY),m.dispatchEvent(i),t.preventDefault()}catch(t){}}function e(t){var i;if(t&&(a=t.elements,l=t.outside+"",c=t.before+"",h=t.after+"",f=t.radius||0,p=t.minView||0,v=t.limiter),n=this.$(a,this.scroller)){u=this.scroller[this.origin.client];for(var s=0;n.length>s;s++)g[s]=g[s-1]||0,n[s-1]&&(g[s]+=n[s-1][this.origin.offset]),i={},i[this.origin.size]=n[s][this.origin.offset],n[s].parentNode!==this.scroller&&this.$(n[s].parentNode).css(i),i={},i[this.origin.crossSize]=n[s].parentNode[this.origin.crossClient],this.$(n[s]).css(i),u-=n[s][this.origin.offset],d[s]=n[s].parentNode[this.origin.offsetPos],(0!=s||0!=d[s])&&(this.event(n[s],"mousewheel",r,"off"),this.event(n[s],"mousewheel",r));v&&(this.track&&this.track!=this.scroller?(i={},i[this.origin.pos]=n[0].parentNode[this.origin.offset],this.$(this.track).css(i)):this.barTopLimit=n[0].parentNode[this.origin.offset],this.scroll())}}var n,l,c,h,a,f,u,p,v,g=[],d=[],m=this.scroller;this.on("init",e,t),this.on("init scroll",function(){var t,i,r=[];if(n){for(var e,l=0;n.length>l;l++)t=0,d[l]-this.pos()<g[l]+f?(t=1,i=g[l]):d[l]-this.pos()>g[l]+u-f?(t=2,i=g[l]+u):(t=3,i=s),t!=r[l]&&(o.call(this,l,i),r[l]=t,e=!0);if(e)for(l=0;n.length>l;l++)r[l]!=r[l+1]&&1==r[l]&&c?this.$(n[l]).addClass(c).removeClass(h):r[l]!=r[l-1]&&2==r[l]&&h?this.$(n[l]).addClass(h).removeClass(c):this.$(n[l]).removeClass(c).removeClass(h)}}),this.on("resize",function(){e.call(this)})};baron.fn.fix=function(t){for(var i=0;this[i];)o.call(this[i],t),i++;return this}}(window),function(){var t=function(t){var i,s,o,r,e=this;r=t.screen||.9,t.forward&&(i=this.$(t.forward,this.clipper),this.event(i,"click",function(){var i=e.pos()-t.delta||30;e.pos(i)})),t.backward&&(s=this.$(t.backward,this.clipper),this.event(s,"click",function(){var i=e.pos()+t.delta||30;e.pos(i)})),t.track&&(o=t.track===!0?this.track:this.$(t.track,this.clipper)[0],o&&this.event(o,"mousedown",function(t){var i=t["offset"+e.origin.x],s=e.bar[e.origin.offsetPos],o=0;s>i?o=-1:i>s+e.bar[e.origin.offset]&&(o=1);var n=e.pos()+o*r*e.scroller[e.origin.client];e.pos(n)}))};baron.fn.controls=function(i){for(var s=0;this[s];)t.call(this[s],i),s++;return this}}(window),function(){var t=function(t){function i(){return p.scroller[p.origin.scroll]+p.scroller[p.origin.offset]}function s(){return p.scroller[p.origin.scrollSize]}function o(t,i){var s=5e-4*t;return Math.floor(i-s*(t+550))}function r(t){l=t,t?(e(),n=setInterval(e,200)):clearInterval(n)}function e(){var t,e,n={},l=i(),m=s();if((new Date).getTime(),e=0,v>0&&(e=40),v){t=o(d,e),l>=m-t-100?d+=t:d=0,0>d&&(d=0),n[h]=d+"px",p.$(c).css(n);for(var b=0;u.length>b;b++)p.$(u[b].self).css(u[b].property,Math.min(100*(d/a),100)+"%");v=-1}0==d?g++:g=0,g>5&&r(!1),f&&d>a&&f()}var n,l,c=(t.prefix,this.$(t.block)),h=t.size||this.origin.size,a=t.limit||80,f=t.callback,u=t.elements||[],p=this,v=0,g=0,d=0;this.on("init",function(){r(!0)}),this.on("dispose",function(){r(!1)}),this.event(this.scroller,"mousewheel DOMMouseScroll",function(){v=1,!l&&i()>=s()&&r(!0)})};baron.fn.pull=function(i){for(var s=0;this[s];)t.call(this[s],i),s++;return this}}(window);